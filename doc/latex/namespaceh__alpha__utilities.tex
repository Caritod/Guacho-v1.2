\hypertarget{namespaceh__alpha__utilities}{}\section{h\+\_\+alpha\+\_\+utilities Module Reference}
\label{namespaceh__alpha__utilities}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}


H alpha projection.  


\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \hyperlink{namespaceh__alpha__utilities_a8bb4ef22ad133f8d3f75cf1a26e14035}{init\+\_\+ha} ()
\begin{DoxyCompactList}\small\item\em Initializes data. \end{DoxyCompactList}\item 
subroutine \hyperlink{namespaceh__alpha__utilities_a5549bf9fd812d02d9189d27f380c01c0}{read\+\_\+data} (u, itprint, filepath)
\begin{DoxyCompactList}\small\item\em reads data from file \end{DoxyCompactList}\item 
subroutine \hyperlink{namespaceh__alpha__utilities_af48cd3c223c292170bc1f90da256f537}{getxyz} (i, j, k, x, y, z)
\begin{DoxyCompactList}\small\item\em gets position of a cell \end{DoxyCompactList}\item 
subroutine \hyperlink{namespaceh__alpha__utilities_a65ad5d15c1265e31f4d191ebf771e669}{rotation\+\_\+x} (theta, x, y, z, xn, yn, zn)
\begin{DoxyCompactList}\small\item\em Rotation around the X axis. \end{DoxyCompactList}\item 
subroutine \hyperlink{namespaceh__alpha__utilities_ab643f1bac838912c58b25923b5de40ca}{rotation\+\_\+y} (theta, x, y, z, xn, yn, zn)
\begin{DoxyCompactList}\small\item\em Rotation around the Y axis. \end{DoxyCompactList}\item 
subroutine \hyperlink{namespaceh__alpha__utilities_acaf25f2c0ad80c5d7e2f451f58522a49}{rotation\+\_\+z} (theta, x, y, z, xn, yn, zn)
\begin{DoxyCompactList}\small\item\em Rotation around the Z axis. \end{DoxyCompactList}\item 
subroutine \hyperlink{namespaceh__alpha__utilities_aafc5cae88b562d0bd2d039cae21ed35a}{fill\+\_\+map} (nxmap, nymap, u, map, dx\+T, dy\+T, theta\+\_\+x, theta\+\_\+y, theta\+\_\+z)
\begin{DoxyCompactList}\small\item\em Fill target map. \end{DoxyCompactList}\item 
subroutine \hyperlink{namespaceh__alpha__utilities_aa2b2b3783ef4b30d178412ea44671047}{write\+\_\+ha} (fileout, nxmap, nymap, map)
\begin{DoxyCompactList}\small\item\em Writes projection to file. \end{DoxyCompactList}\item 
subroutine \hyperlink{namespaceh__alpha__utilities_a1cf6b2b4be1a68c792b3cb07b5629af6}{write\+\_\+rg} (fileout, nxmap, nymap, map)
\begin{DoxyCompactList}\small\item\em Writes projection to file in rg format. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Utilities to compute an H alpha map 

\subsection{Function/\+Subroutine Documentation}
\hypertarget{namespaceh__alpha__utilities_aafc5cae88b562d0bd2d039cae21ed35a}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!fill\+\_\+map@{fill\+\_\+map}}
\index{fill\+\_\+map@{fill\+\_\+map}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{fill\+\_\+map}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::fill\+\_\+map (
\begin{DoxyParamCaption}
\item[{integer, intent(in)}]{nxmap, }
\item[{integer, intent(in)}]{nymap, }
\item[{real, dimension(neq,nxmin\+:nxmax,nymin\+:nymax, nzmin\+:nzmax), intent(in)}]{u, }
\item[{real, dimension(nxmap,nymap), intent(out)}]{map, }
\item[{real, intent(in)}]{dx\+T, }
\item[{real, intent(in)}]{dy\+T, }
\item[{real, intent(in)}]{theta\+\_\+x, }
\item[{real, intent(in)}]{theta\+\_\+y, }
\item[{real, intent(in)}]{theta\+\_\+z}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_aafc5cae88b562d0bd2d039cae21ed35a}
Fills the target map of one M\+P\+I block 
\begin{DoxyParams}{Parameters}
{\em integer} & \mbox{[}in\mbox{]} nxmap \+: Number of X cells in target \\
\hline
{\em integer} & \mbox{[}in\mbox{]} nymap \+: Number of Y cells in target \\
\hline
{\em real} & \mbox{[}in\mbox{]} u(neq,nxmin\+:nxmax,nymin\+:nymax, nzmin\+:nzmax) \+: conserved variables \\
\hline
{\em real} & \mbox{[}out\mbox{]} map(nxmap,mymap) \+: Target map \\
\hline
{\em real} & \mbox{[}in\mbox{]} dx\+T \+: target pixel width \\
\hline
{\em real} & \mbox{[}in\mbox{]} dy\+T \+: target pixel height \\
\hline
{\em real} & \mbox{[}in\mbox{]} thetax \+: Rotation around X \\
\hline
{\em real} & \mbox{[}in\mbox{]} thetay \+: Rotation around Y \\
\hline
{\em real} & \mbox{[}in\mbox{]} thetaz \+: Rotation around Z \\
\hline
\end{DoxyParams}


Definition at line 285 of file h\+\_\+alpha\+\_\+proj.\+f90.



Here is the call graph for this function\+:
% FIG 0


\hypertarget{namespaceh__alpha__utilities_af48cd3c223c292170bc1f90da256f537}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!getxyz@{getxyz}}
\index{getxyz@{getxyz}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{getxyz}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::getxyz (
\begin{DoxyParamCaption}
\item[{integer, intent(in)}]{i, }
\item[{integer, intent(in)}]{j, }
\item[{integer, intent(in)}]{k, }
\item[{real, intent(out)}]{x, }
\item[{real, intent(out)}]{y, }
\item[{real, intent(out)}]{z}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_af48cd3c223c292170bc1f90da256f537}
Returns the position and spherical radius calculated with respect to the center of the grid 
\begin{DoxyParams}{Parameters}
{\em integer} & \mbox{[}in\mbox{]} i \+: cell index in the x direction \\
\hline
{\em integer} & \mbox{[}in\mbox{]} j \+: cell index in the y direction \\
\hline
{\em integer} & \mbox{[}in\mbox{]} k \+: cell index in the z direction \\
\hline
{\em real} & \mbox{[}in\mbox{]} x \+: x position in the grid \\
\hline
{\em real} & \mbox{[}in\mbox{]} y \+: y position in the grid \\
\hline
{\em real} & \mbox{[}in\mbox{]} z \+: z position in the grid \\
\hline
\end{DoxyParams}


Definition at line 187 of file h\+\_\+alpha\+\_\+proj.\+f90.

\hypertarget{namespaceh__alpha__utilities_a8bb4ef22ad133f8d3f75cf1a26e14035}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!init\+\_\+ha@{init\+\_\+ha}}
\index{init\+\_\+ha@{init\+\_\+ha}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{init\+\_\+ha}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::init\+\_\+ha (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_a8bb4ef22ad133f8d3f75cf1a26e14035}
Initializes data, M\+P\+I and other stuff 

Definition at line 35 of file h\+\_\+alpha\+\_\+proj.\+f90.

\hypertarget{namespaceh__alpha__utilities_a5549bf9fd812d02d9189d27f380c01c0}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!read\+\_\+data@{read\+\_\+data}}
\index{read\+\_\+data@{read\+\_\+data}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{read\+\_\+data}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::read\+\_\+data (
\begin{DoxyParamCaption}
\item[{real, dimension(neq,nxmin\+:nxmax,nymin\+:nymax,nzmin\+:nzmax), intent(out)}]{u, }
\item[{integer, intent(in)}]{itprint, }
\item[{character (len=128), intent(in)}]{filepath}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_a5549bf9fd812d02d9189d27f380c01c0}
reads data from file 
\begin{DoxyParams}{Parameters}
{\em real} & \mbox{[}out\mbox{]} u(neq,nxmin\+:nxmax,nymin\+:nymax,nzmin\+:nzmax) \+: conserved variables \\
\hline
{\em integer} & \mbox{[}in\mbox{]} itprint \+: number of output \\
\hline
{\em string} & \mbox{[}in\mbox{]} filepath \+: path where the output is \\
\hline
\end{DoxyParams}


Definition at line 134 of file h\+\_\+alpha\+\_\+proj.\+f90.

\hypertarget{namespaceh__alpha__utilities_a65ad5d15c1265e31f4d191ebf771e669}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!rotation\+\_\+x@{rotation\+\_\+x}}
\index{rotation\+\_\+x@{rotation\+\_\+x}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{rotation\+\_\+x}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::rotation\+\_\+x (
\begin{DoxyParamCaption}
\item[{real, intent(in)}]{theta, }
\item[{real, intent(in)}]{x, }
\item[{real, intent(in)}]{y, }
\item[{real, intent(in)}]{z, }
\item[{real, intent(out)}]{xn, }
\item[{real, intent(out)}]{yn, }
\item[{real, intent(out)}]{zn}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_a65ad5d15c1265e31f4d191ebf771e669}
Does a rotation around the x axis 
\begin{DoxyParams}{Parameters}
{\em real} & \mbox{[}in\mbox{]}, theta \+: Angle of rotation (in radians) \\
\hline
{\em real} & \mbox{[}in\mbox{]}, x \+: original x position in the grid \\
\hline
{\em real} & \mbox{[}in\mbox{]}, y \+: original y position in the grid \\
\hline
{\em real} & \mbox{[}in\mbox{]}, x \+: original z position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, x \+: final x position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, y \+: final y position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, x \+: final z position in the grid \\
\hline
\end{DoxyParams}


Definition at line 213 of file h\+\_\+alpha\+\_\+proj.\+f90.

\hypertarget{namespaceh__alpha__utilities_ab643f1bac838912c58b25923b5de40ca}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!rotation\+\_\+y@{rotation\+\_\+y}}
\index{rotation\+\_\+y@{rotation\+\_\+y}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{rotation\+\_\+y}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::rotation\+\_\+y (
\begin{DoxyParamCaption}
\item[{real, intent(in)}]{theta, }
\item[{real, intent(in)}]{x, }
\item[{real, intent(in)}]{y, }
\item[{real, intent(in)}]{z, }
\item[{real, intent(out)}]{xn, }
\item[{real, intent(out)}]{yn, }
\item[{real, intent(out)}]{zn}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_ab643f1bac838912c58b25923b5de40ca}
Does a rotation around the x axis 
\begin{DoxyParams}{Parameters}
{\em real} & \mbox{[}in\mbox{]}, theta \+: Angle of rotation (in radians) \\
\hline
{\em real} & \mbox{[}in\mbox{]}, x \+: original x position in the grid \\
\hline
{\em real} & \mbox{[}in\mbox{]}, y \+: original y position in the grid \\
\hline
{\em real} & \mbox{[}in\mbox{]}, x \+: original z position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, x \+: final x position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, y \+: final y position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, x \+: final z position in the grid \\
\hline
\end{DoxyParams}


Definition at line 237 of file h\+\_\+alpha\+\_\+proj.\+f90.

\hypertarget{namespaceh__alpha__utilities_acaf25f2c0ad80c5d7e2f451f58522a49}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!rotation\+\_\+z@{rotation\+\_\+z}}
\index{rotation\+\_\+z@{rotation\+\_\+z}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{rotation\+\_\+z}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::rotation\+\_\+z (
\begin{DoxyParamCaption}
\item[{real, intent(in)}]{theta, }
\item[{real, intent(in)}]{x, }
\item[{real, intent(in)}]{y, }
\item[{real, intent(in)}]{z, }
\item[{real, intent(out)}]{xn, }
\item[{real, intent(out)}]{yn, }
\item[{real, intent(out)}]{zn}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_acaf25f2c0ad80c5d7e2f451f58522a49}
Does a rotation around the x axis 
\begin{DoxyParams}{Parameters}
{\em real} & \mbox{[}in\mbox{]}, theta \+: Angle of rotation (in radians) \\
\hline
{\em real} & \mbox{[}in\mbox{]}, x \+: original x position in the grid \\
\hline
{\em real} & \mbox{[}in\mbox{]}, y \+: original y position in the grid \\
\hline
{\em real} & \mbox{[}in\mbox{]}, x \+: original z position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, x \+: final x position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, y \+: final y position in the grid \\
\hline
{\em real} & \mbox{[}out\mbox{]}, x \+: final z position in the grid \\
\hline
\end{DoxyParams}


Definition at line 259 of file h\+\_\+alpha\+\_\+proj.\+f90.

\hypertarget{namespaceh__alpha__utilities_aa2b2b3783ef4b30d178412ea44671047}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!write\+\_\+ha@{write\+\_\+ha}}
\index{write\+\_\+ha@{write\+\_\+ha}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{write\+\_\+ha}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::write\+\_\+ha (
\begin{DoxyParamCaption}
\item[{character (len=128), intent(in)}]{fileout, }
\item[{integer, intent(in)}]{nxmap, }
\item[{integer, intent(in)}]{nymap, }
\item[{real, dimension(nxmap,nymap), intent(in)}]{map}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_aa2b2b3783ef4b30d178412ea44671047}
Writes projection to file 
\begin{DoxyParams}{Parameters}
{\em integer} & \mbox{[}in\mbox{]} itprint \+: number of output \\
\hline
{\em string} & \mbox{[}in\mbox{]} fileout \+: file where to write \\
\hline
{\em integer} & \mbox{[}in\mbox{]} nxmap \+: Number of X cells in target \\
\hline
{\em integer} & \mbox{[}in\mbox{]} nymap \+: Number of Y cells in target \\
\hline
{\em real} & \mbox{[}in\mbox{]} map(nxmap,mymap) \+: Target map \\
\hline
\end{DoxyParams}


Definition at line 362 of file h\+\_\+alpha\+\_\+proj.\+f90.

\hypertarget{namespaceh__alpha__utilities_a1cf6b2b4be1a68c792b3cb07b5629af6}{}\index{h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}!write\+\_\+rg@{write\+\_\+rg}}
\index{write\+\_\+rg@{write\+\_\+rg}!h\+\_\+alpha\+\_\+utilities@{h\+\_\+alpha\+\_\+utilities}}
\subsubsection[{write\+\_\+rg}]{\setlength{\rightskip}{0pt plus 5cm}subroutine h\+\_\+alpha\+\_\+utilities\+::write\+\_\+rg (
\begin{DoxyParamCaption}
\item[{character (len=128), intent(in)}]{fileout, }
\item[{integer, intent(in)}]{nxmap, }
\item[{integer, intent(in)}]{nymap, }
\item[{real, dimension(nxmap,nymap), intent(in)}]{map}
\end{DoxyParamCaption}
)}\label{namespaceh__alpha__utilities_a1cf6b2b4be1a68c792b3cb07b5629af6}
Writes projection to file 
\begin{DoxyParams}{Parameters}
{\em integer} & \mbox{[}in\mbox{]} itprint \+: number of output \\
\hline
{\em string} & \mbox{[}in\mbox{]} fileout \+: file where to write \\
\hline
{\em integer} & \mbox{[}in\mbox{]} nxmap \+: Number of X cells in target \\
\hline
{\em integer} & \mbox{[}in\mbox{]} nymap \+: Number of Y cells in target \\
\hline
{\em real} & \mbox{[}in\mbox{]} map(nxmap,mymap) \+: Target map \\
\hline
\end{DoxyParams}


Definition at line 391 of file h\+\_\+alpha\+\_\+proj.\+f90.

